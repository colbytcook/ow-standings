{"version":3,"sources":["webpack:///./scripts/modules/overwatchAjax/overwatchAjax.main.js"],"names":["$","require","module","exports","$el","profiles","heroes","timo","ewok","colby","when","get","timoData","push","timoHeroes","ewokData","ewokHeroes","colbyData","colbyHeroes","then","newHeroesOrder","arrayReorder","findGamesPlayed","pa","length","damageDone","damageDoneAverage","playtime","data","quick","split","h","timePlayed","TimePlayed","parseInt","DamageDone","replace","gamesPlayed","GamesPlayed","undefined","Math","floor","profileRow","p","starImage","starClass","profileData","star","avatar","username","level","html","keyOrder","key","ko","infoRow","keyValue","match","nho","infoOutput","average","toFixed","append"],"mappings":"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","file":"1.bundle.js","sourcesContent":["'use strict';\n\nvar $ = require('jquery');\n\nmodule.exports = class OverwatchAjax{\n  constructor($el){\n    var profiles = [];\n    var heroes = [];\n    var timo = 'timomcd-1765';\n    var ewok = 'EwoK-11957';\n    var colby = 'muddypants-1515';\n    $.when(\n      $.get('https://api.lootbox.eu/pc/us/' + timo + '/profile', function(timoData) {\n        profiles.push(timoData);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + timo + '/quickplay/allHeroes/', function(timoHeroes) {\n        heroes.push(timoHeroes);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + ewok + '/profile', function(ewokData) {\n        profiles.push(ewokData);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + ewok + '/quickplay/allHeroes/', function(ewokHeroes) {\n        heroes.push(ewokHeroes);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + colby + '/profile', function(colbyData) {\n        profiles.push(colbyData);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + colby + '/quickplay/allHeroes/', function(colbyHeroes) {\n        heroes.push(colbyHeroes);\n      })\n    ).then(function() {\n      var newHeroesOrder = [];\n      var arrayReorder = function(profiles, heroes){\n        var findGamesPlayed = function(){\n\n        };\n        for(var pa = 0; pa < profiles.length; pa++){\n          var damageDone = '';\n          var damageDoneAverage = '';\n          var playtime = profiles[pa].data.playtime.quick.split(' ');\n          for(var h = 0; h < heroes.length; h++){\n            var timePlayed = heroes[h].TimePlayed.split('hours');\n            damageDone = parseInt(heroes[h].DamageDone.replace(/,/g, ''), 10);\n            damageDoneAverage = parseInt(heroes[h][\"DamageDone-Average\"].replace(/,/g, ''), 10);\n            var gamesPlayed = damageDone / damageDoneAverage;\n            if(heroes[h].GamesPlayed === undefined){\n              heroes[h].GamesPlayed = Math.floor(gamesPlayed);\n            }\n            findGamesPlayed();\n            if(timePlayed[0] === playtime[0]){\n              newHeroesOrder.push(heroes[h]);\n            }\n          }\n        }\n      };\n      var profileRow = '<th><img class=\"logo\" src=\"/images/overwatch-logo.png\" /></th>';\n      arrayReorder(profiles, heroes);\n      for(var p = 0; p < profiles.length; p++){\n        var starImage = '';\n        var starClass = '';\n        var profileData = profiles[p].data;\n        if(profileData.star !== ''){\n          starClass = 'star-adjust';\n          starImage = '<img class=\"star\" src=\"' + profileData.star + '\" alt=\"star\" />';\n        } else {\n          starClass = '';\n          starImage = '';\n        }\n        profileRow = profileRow + '<th class=\"profile-tab\"><div class=\"tab\"><img class=\"avatar\" src=\"' + profileData.avatar + '\" alt=\"' + profileData.username + ' avatar\" /><p class=\"username\">' + profileData.username + '</p><div class=\"level-container\"><p class=\"level ' + starClass + '\">' + starImage + profileData.level + '</p></div><p class=\"playtime\">Play Time: ' + profileData.playtime.quick + '</p></div></div></th>';\n      }\n      $('.profiles').html(profileRow);\n      // console.log(newHeroesOrder);\n      var keyOrder = [];\n      for (var key in newHeroesOrder[0]) {\n        keyOrder.push(key);\n      }\n      for(var ko = 0; ko < keyOrder.length; ko++){\n        var gamesPlayed = 0;\n        var infoRow = '';\n        var keyValue = keyOrder[ko];\n        if(!keyValue.match(/Average/g)){\n          infoRow = '<tr><td>' + keyValue.replace( /([A-Z])/g, \" $1\" ) + '</td>';\n          for(var nho = 0; nho < newHeroesOrder.length; nho++){\n            var infoOutput = '';\n            if(newHeroesOrder[nho][keyValue] === undefined || newHeroesOrder[nho][keyValue] === ''){\n              newHeroesOrder[nho][keyValue] = 0;\n            }\n            if(!keyValue.match(/MostinGame/g)){\n              // console.log(typeof newHeroesOrder[nho][keyValue]);\n              var average = 0;\n              if(typeof newHeroesOrder[nho][keyValue] === 'string'){\n                average = parseInt(newHeroesOrder[nho][keyValue].replace(/,/g, ''), 10) / newHeroesOrder[nho].GamesPlayed;\n              } else {\n                average = newHeroesOrder[nho][keyValue] / newHeroesOrder[nho].GamesPlayed;\n              }\n              // console.log(average);\n              infoOutput = '<div class=\"top-row\"><p class=\"data-value\">' + newHeroesOrder[nho][keyValue] + '</p><p class=\"data-average\">' + average.toFixed(3) + '</p></div>';\n            } else {\n              infoOutput = newHeroesOrder[nho][keyValue];\n            }\n            infoRow = infoRow + '<td>' + infoOutput + '</td>';\n          }\n          infoRow = infoRow + '</tr>';\n          $('.hero-data').append(infoRow);\n        }\n      }\n    });\n  }\n};\n\n\n//DamageDone / DamageDone-Average = GamesPlayed\n\n//Eliminations/GamesPlayed, Healing/GamesPlayed, all the averages Blizzard doesn't give as a -Average value.\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/modules/overwatchAjax/overwatchAjax.main.js"],"sourceRoot":""}