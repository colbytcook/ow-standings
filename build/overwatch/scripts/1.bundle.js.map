{"version":3,"sources":["webpack:///./scripts/modules/overwatchAjax/overwatchAjax.main.js"],"names":["$","require","module","exports","$el","profiles","heroes","timo","ewok","colby","joe","when","get","timoData","push","timoHeroes","ewokData","ewokHeroes","colbyData","colbyHeroes","joeData","joeHeroes","then","newHeroesOrder","medals","arrayReorder","findGamesPlayed","pa","length","damageDone","damageDoneAverage","playtime","data","quick","split","h","timePlayed","TimePlayed","parseInt","DamageDone","replace","gamesPlayed","GamesPlayed","undefined","Math","floor","profileRow","p","starImage","starClass","profileData","star","avatar","username","level","html","keyOrder","key","ko","infoRow","rank","keyValue","match","nho","infoOutput","average","toFixed","append","medalAssign","row","rankings","r","find","each","i","dataValue","addClass","lth","sort","htl","reverse","averages","hasClass"],"mappings":"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","file":"1.bundle.js","sourcesContent":["'use strict';\n\nvar $ = require('jquery');\n\nmodule.exports = class OverwatchAjax{\n  constructor($el){\n    // var users = $el.data('users');\n    var profiles = [];\n    var heroes = [];\n    var timo = 'timomcd-1765';\n    var ewok = 'EwoK-11957';\n    var colby = 'muddypants-1515';\n    var joe = 'Zeke-1376';\n    $.when(\n      $.get('https://api.lootbox.eu/pc/us/' + timo + '/profile', function(timoData) {\n        profiles.push(timoData);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + timo + '/quickplay/allHeroes/', function(timoHeroes) {\n        heroes.push(timoHeroes);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + ewok + '/profile', function(ewokData) {\n        profiles.push(ewokData);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + ewok + '/quickplay/allHeroes/', function(ewokHeroes) {\n        heroes.push(ewokHeroes);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + colby + '/profile', function(colbyData) {\n        profiles.push(colbyData);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + colby + '/quickplay/allHeroes/', function(colbyHeroes) {\n        heroes.push(colbyHeroes);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + joe + '/profile', function(joeData) {\n        profiles.push(joeData);\n      }),\n      $.get('https://api.lootbox.eu/pc/us/' + joe + '/quickplay/allHeroes/', function(joeHeroes) {\n        heroes.push(joeHeroes);\n      })\n    ).then(function() {\n      var newHeroesOrder = [];\n      var medals = ['gold', 'silver', 'bronze'];\n      var arrayReorder = function(profiles, heroes){\n        var findGamesPlayed = function(){\n\n        };\n        for(var pa = 0; pa < profiles.length; pa++){\n          var damageDone = '';\n          var damageDoneAverage = '';\n          var playtime = profiles[pa].data.playtime.quick.split(' ');\n          for(var h = 0; h < heroes.length; h++){\n            var timePlayed = heroes[h].TimePlayed.split('hour');\n            damageDone = parseInt(heroes[h].DamageDone.replace(/,/g, ''), 10);\n            damageDoneAverage = parseInt(heroes[h][\"DamageDone-Average\"].replace(/,/g, ''), 10);\n            var gamesPlayed = damageDone / damageDoneAverage;\n            if(heroes[h].GamesPlayed === undefined){\n              heroes[h].GamesPlayed = Math.floor(gamesPlayed);\n            }\n            findGamesPlayed();\n            if(timePlayed[0] === playtime[0]){\n              newHeroesOrder.push(heroes[h]);\n            }\n          }\n        }\n      };\n      var profileRow = '<th><img class=\"logo\" src=\"/images/overwatch-logo.png\" /></th>';\n      arrayReorder(profiles, heroes);\n      for(var p = 0; p < profiles.length; p++){\n        var starImage = '';\n        var starClass = '';\n        var profileData = profiles[p].data;\n        if(profileData.star !== ''){\n          starClass = 'star-adjust';\n          starImage = '<img class=\"star\" src=\"' + profileData.star + '\" alt=\"star\" />';\n        } else {\n          starClass = '';\n          starImage = '';\n        }\n        profileRow = profileRow + '<th class=\"profile-tab\"><div class=\"tab\"><img class=\"avatar\" src=\"' + profileData.avatar + '\" alt=\"' + profileData.username + ' avatar\" /><p class=\"username\">' + profileData.username + '</p><div class=\"level-container\"><p class=\"level ' + starClass + '\">' + starImage + profileData.level + '</p></div><p class=\"playtime\">Play Time: ' + profileData.playtime.quick + '</p></div></div></th>';\n      }\n      $('.profiles').html(profileRow);\n      var keyOrder = [];\n      for (var key in newHeroesOrder[0]) {\n        keyOrder.push(key);\n      }\n      for(var ko = 0; ko < keyOrder.length; ko++){\n        var gamesPlayed = 0;\n        var infoRow = '';\n        var rank = '';\n        var keyValue = keyOrder[ko];\n        if(!keyValue.match(/Average/g) && !keyValue.match(/GamesPlayed/g)){\n          if(!keyValue.match(/Deaths/g)){\n            rank = ' class=\"htl\"';\n          } else {\n            rank = ' class=\"lth\"';\n          }\n          infoRow = '<tr' + rank + '><td>' + keyValue.replace( /([A-Z])/g, \" $1\" ) + '</td>';\n          for(var nho = 0; nho < newHeroesOrder.length; nho++){\n            var infoOutput = '';\n            if(newHeroesOrder[nho][keyValue] === undefined || newHeroesOrder[nho][keyValue] === ''){\n              newHeroesOrder[nho][keyValue] = 0;\n            }\n            if(!keyValue.match(/MostinGame/g)){\n              var average = 0;\n              if(typeof newHeroesOrder[nho][keyValue] === 'string'){\n                average = parseInt(newHeroesOrder[nho][keyValue].replace(/,/g, ''), 10) / newHeroesOrder[nho].GamesPlayed;\n              } else {\n                average = newHeroesOrder[nho][keyValue] / newHeroesOrder[nho].GamesPlayed;\n              }\n              infoOutput = '<div class=\"top-row\"><p class=\"data-value\">' + newHeroesOrder[nho][keyValue] + '</p><p class=\"data-average\">' + average.toFixed(3) + '</p></div>';\n            } else {\n              infoOutput = '<div class=\"top-row\"><p class=\"data-average center\">' + newHeroesOrder[nho][keyValue] + '</p></div>';\n            }\n            infoRow = infoRow + '<td>' + infoOutput + '</td>';\n          }\n          infoRow = infoRow + '</tr>';\n          $('.hero-data').append(infoRow);\n        }\n      }\n      var medalAssign = function(row, rankings){\n        for(var r = 0; r < rankings.length; r++){\n          row.find('td').each(function(i){\n            var dataValue = $(this).find('.data-average').html();\n            if(dataValue === rankings[r] && dataValue > 0){\n              $(this).addClass('medal ' + medals[r]);\n            } else {\n              $(this).addClass('medal');\n            }\n          });\n        }\n      };\n      var lth = function(data){\n        return data.sort();\n      };\n      var htl = function(data){\n        return data.sort().reverse();\n      };\n      $('.hero-data tr').each(function(i){\n        var averages = [];\n        var rankings = [];\n        $(this).find('td').each(function(i){\n          var dataValue = $(this).find('.data-average').html();\n          if(dataValue !== undefined){\n            averages.push(dataValue.replace(',', '').replace(':', ''));\n          }\n        });\n        if($(this).hasClass('lth')){\n          rankings = lth(averages);\n          medalAssign($(this), rankings);\n        } else {\n          rankings = htl(averages);\n          medalAssign($(this), rankings);\n        }\n      });\n    });\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/modules/overwatchAjax/overwatchAjax.main.js"],"sourceRoot":""}